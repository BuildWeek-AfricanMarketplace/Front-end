[{"/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/index.js":"1","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/App.js":"2","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Reg.js":"3","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Theme.js":"4","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Login.js":"5","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Welcome.js":"6"},{"size":610,"mtime":1608214584015,"results":"7","hashOfConfig":"8"},{"size":1617,"mtime":1608420960685,"results":"9","hashOfConfig":"8"},{"size":3978,"mtime":1608301501973,"results":"10","hashOfConfig":"8"},{"size":101,"mtime":1608230533391,"results":"11","hashOfConfig":"8"},{"size":3530,"mtime":1608421848268,"results":"12","hashOfConfig":"8"},{"size":709,"mtime":1608233417697,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"4stnic",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/index.js",[],["29","30"],"/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/App.js",[],"/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Reg.js",["31","32"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\n\nexport default function Register() {\n\tconst [formState, setFormState] = useState({\n\t\tusename: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t});\n\n\t// TODO server error state\n\n\tconst [serverError, setServerError] = useState(\"\");\n\n\t// TODO button disable/enable\n\n\tconst [buttonIsDisabled, setButtonIsDisabled] = useState(true);\n\n\t// TODO response from API\n\n\tconst [post, setPost] = useState([]);\n\n\t// TODO error state\n\n\tconst [errors, setErrors] = useState({\n\t\tusername: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t});\n\n\t// TODO validation\n\n\tconst validateChange = (e) => {\n\t\tyup.reach(formSchema, e.target.name)\n\t\t\t.validate(\n\t\t\t\te.target.type === \"checkbox\"\n\t\t\t\t\t? e.target.checked\n\t\t\t\t\t: e.target.value\n\t\t\t)\n\t\t\t.then((valid) => {\n\t\t\t\tsetErrors({ ...errors, [e.target.name]: \"\" });\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(\"ERROR\", err);\n\t\t\t\tsetErrors({ ...errors, [e.target.name]: err.errors[0] });\n\t\t\t});\n\t};\n\n\t// TODO handleChange\n\n\tconst handleChange = (e) => {\n\t\te.persist();\n\n\t\tconst newFormState = {\n\t\t\t...formState,\n\t\t\t[e.target.name]:\n\t\t\t\te.target.type === \"checkbox\"\n\t\t\t\t\t? e.target.checked\n\t\t\t\t\t: e.target.value,\n\t\t};\n\n\t\tvalidateChange(e);\n\t\tsetFormState(newFormState);\n\t};\n\n\t// TODO formSubmit\n\n\tconst history = useHistory();\n\n\tconst formSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// ? may need to work a hook in here\n\t\tsetFormState({\n\t\t\tusername: \"\",\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t});\n\n\t\t// TODO axios Post\n\n\t\taxios.post(\"https://bwbe.herokuapp.com/api/auth/register\", formState)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"RESPONSE\", res.data);\n\t\t\t\tsetPost(res.data);\n\t\t\t\tconsole.log(\"POST\", post);\n\t\t\t\tsetServerError(null);\n\t\t\t\tsetFormState({\n\t\t\t\t\tusername: \"\",\n\t\t\t\t\temail: \"\",\n\t\t\t\t\tpassword: \"\",\n\t\t\t\t});\n\t\t\t\t// history.push(\"/login\");\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetServerError(\"OOPS! SOMETHING WENT WRONG!\");\n\t\t\t});\n\t};\n\n\t// TODO Schema\n\n\tconst formSchema = yup.object().shape({\n\t\tusername: yup.string().required(\"Username is required!\"),\n\t\temail: yup.string().email().required(\"Email is required!\"),\n\t\tpassword: yup\n\t\t\t.string()\n\t\t\t.required(\"Password is required!\")\n\t\t\t.min(5, \"Password must be at least 5 chars!\"),\n\t});\n\n\t// TODO useEffect\n\n\tuseEffect(() => {\n\t\tformSchema.isValid(formState).then((valid) => {\n\t\t\tconsole.log(\"IS FORM VALID?\", valid);\n\t\t\tsetButtonIsDisabled(!valid);\n\t\t});\n\t}, [formState]);\n\n\t// TODO JSX\n\n\treturn (\n\t\t<FormContainer onSubmit={formSubmit}>\n\t\t\t<FormInput className=\"form-container\">\n\t\t\t\t{serverError && <p className=\"error\">{serverError}</p>}\n\t\t\t\t<h2>Register</h2>\n\t\t\t\t<label htmlFor=\"username\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\tvalue={formState.username}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.username.length > 0 ? (\n\t\t\t\t\t\t<p className=\"error\">{errors.username}</p>\n\t\t\t\t\t) : null}\n\t\t\t\t</label>\n\n\t\t\t\t<label htmlFor=\"email\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tvalue={formState.email}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.email.length > 0 ? (\n\t\t\t\t\t\t<p className=\"error\">{errors.email}</p>\n\t\t\t\t\t) : null}\n\t\t\t\t</label>\n\n\t\t\t\t<label htmlFor=\"password\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tvalue={formState.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.password.length > 0 ? (\n\t\t\t\t\t\t<p className=\"error\">{errors.password}</p>\n\t\t\t\t\t) : null}\n\t\t\t\t</label>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclassName=\"submit\"\n\t\t\t\t\tdisabled={buttonIsDisabled}\n\t\t\t\t>\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</FormInput>\n\t\t</FormContainer>\n\t);\n}\n\nconst FormContainer = styled.form`\n\tbackground-color: ${(props) => props.theme.primaryColor};\n`;\n\nconst FormInput = styled.div`\n\tbackground-color: ${(props) => props.theme.secondaryColor};\n`;\n","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Theme.js",["33"],"export default {\n\tprimaryColor: \"#F5F5F5\",\n\tsecondaryColor: \"#b0c4de\",\n\ttertiaryColor: \"#191970\",\n};\n","/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Login.js",["34","35","36","37"],"/Users/ngwatso/Documents/Lambda/Unit-2/Front-end/buildweek-app/src/components/Welcome.js",[],{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":71,"column":8,"nodeType":"44","messageId":"45","endLine":71,"endColumn":15},{"ruleId":"46","severity":1,"message":"47","line":120,"column":5,"nodeType":"48","endLine":120,"endColumn":16,"suggestions":"49"},{"ruleId":"50","severity":1,"message":"51","line":1,"column":1,"nodeType":"52","endLine":5,"endColumn":3},{"ruleId":"42","severity":1,"message":"53","line":14,"column":8,"nodeType":"44","messageId":"45","endLine":14,"endColumn":22},{"ruleId":"42","severity":1,"message":"54","line":30,"column":9,"nodeType":"44","messageId":"45","endLine":30,"endColumn":13},{"ruleId":"42","severity":1,"message":"55","line":30,"column":15,"nodeType":"44","messageId":"45","endLine":30,"endColumn":22},{"ruleId":"46","severity":1,"message":"47","line":105,"column":5,"nodeType":"48","endLine":105,"endColumn":16,"suggestions":"56"},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'formSchema'. Either include it or remove the dependency array.","ArrayExpression",["59"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'routeToWelcome' is assigned a value but never used.","'post' is assigned a value but never used.","'setPost' is assigned a value but never used.",["60"],"no-global-assign","no-unsafe-negation",{"desc":"61","fix":"62"},{"desc":"61","fix":"63"},"Update the dependencies array to be: [formSchema, formState]",{"range":"64","text":"65"},{"range":"66","text":"65"},[2485,2496],"[formSchema, formState]",[2317,2328]]